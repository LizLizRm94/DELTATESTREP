@page "/detalle-evaluacion/{IdEvaluacion:int}"
@using DELTATEST.Models
@layout MainLayout
@inject NavigationManager NavigationManager

<!-- TÍTULO CENTRADO Y MAYÚSCULAS -->
<h2 class="text-center text-orange text-uppercase mb-4">Detalle de Evaluación: Manejo de Equipos</h2>

<!-- RECUADRO DE RESULTADO Y ALERTA CENTRADO -->
<div class="d-flex justify-content-center mb-4">
    <div class="card border-danger" style="max-width: 500px;">
        <div class="card-body text-center">
            <h5 class="card-title text-danger">Resultado: 50 / 100</h5>
            <p class="text-muted mb-1">Fecha: 03/05/2025</p>
            <p class="text-muted mb-1">Área: Control de Calidad</p>
            <p class="text-muted mb-3">Evaluador: Mishale Rodríguez</p>
            <div class="alert alert-danger text-center">
                El promedio de aprobación es <strong>80</strong>. Tienes <strong>2 oportunidades más</strong> para repetir la prueba.
            </div>
        </div>
    </div>
</div>

<!-- TÍTULO DEL DESGLOSE CENTRADO -->
<h4 class="text-center text-orange mb-3">Desglose de la Evaluación</h4>

<!-- TABLA DE DESGLOSE CENTRADA -->
<div class="d-flex justify-content-center mb-4">
    <div style="min-width: 700px;">
        <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <th class="text-center">Evaluación</th>
                    <th class="text-center">Puntaje</th>
                    <th class="text-center">Obtenido</th>
                    <th class="text-center">Detalles</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>Uso de Equipos</td>
                    <td>20</td>
                    <td>15</td>
                    <td>Falta conocimiento</td>
                </tr>
                <tr>
                    <td>Normas de Seguridad</td>
                    <td>30</td>
                    <td>20</td>
                    <td>Confusión en protocolos</td>
                </tr>
                <tr>
                    <td>Resolución de Fallas</td>
                    <td>50</td>
                    <td>15</td>
                    <td>No identificó causas raíz</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<!-- BOTONES MÁS ABAJO -->
<div class="text-center mt-5">
    <div class="btn-group gap-3">
        <button class="btn btn-orange me-2" @onclick="RepetirEvaluacion">Repetir Evaluación</button>
        <button class="btn btn-orange-outline" @onclick="VolverAlPanel">Volver al Panel</button>
    </div>
</div>

@code {
    [Parameter] public int IdEvaluacion { get; set; }

    private void RepetirEvaluacion()
    {
        Console.WriteLine($"Repetir evaluación {IdEvaluacion}");
    }

    private void VolverAlPanel()
    {
        NavigationManager.NavigateTo("/usuarios/estado");
    }
}
