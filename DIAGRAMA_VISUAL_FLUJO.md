# ?? Diagrama Visual - Sistema de Evaluación Práctica

## ?? Flujo de Evaluación

```
???????????????????????????????????????????????????????????????
?  INICIO: /EvaluacionPractica/{IdUsuario}/{NombreUsuario}    ?
???????????????????????????????????????????????????????????????
 ?
            ?
      ??????????????????????????????
      ?  Cargar 10 Tareas        ?
      ?  Inicializar índice = 0    ?
      ?  Mostrar Tarea 1/10     ?
    ??????????????????????????????
        ?
        ?
      ??????????????????????????????????????????
      ?  LOOP: Para cada Tarea (1-10)          ?
      ?  ????????????????????????????????????  ?
    ?  ? 1. Mostrar Tarea X de 10      ?  ?
      ?  ?    Barra Progreso: X/10 × 100%   ?  ?
      ?  ?   ?  ?
      ?  ? 2. Mostrar 10 Estrellas (1-10)   ?  ?
      ?  ?    ? ? ? ? ? ? ? ? ? ?          ?  ?
      ?  ?              ?  ?
      ?  ? 3. Usuario Selecciona 1-10       ?  ?
 ?  ?  Ej: Califica con 7 estrellas  ?  ?
      ?  ?  Tareas[X].Calificacion = 7    ?  ?
      ?  ?       ?  ?
      ?  ? 4. Usuario Escribe Descripción   ?  ?
      ?  ?    (Opcional) ?  ?
      ?  ?    Tareas[X].ResultadoObtenido   ?  ?
      ?  ?         ?  ?
  ?  ? 5. Usuario Hace Clic "Siguiente" ?  ?
      ?  ?    ¿Tiene Calificación? SÍ       ?  ?
      ?  ?    ¿Es última tarea? NO          ?  ?
?  ?    ? Avanza a X+1      ?  ?
      ?  ?            ?  ?
      ?  ? NOTA: Botón "Siguiente"          ?  ?
    ?  ?       DESHABILITADO hasta         ?  ?
      ?  ?       calificar        ?  ?
      ?  ????????????????????????????????????  ?
      ??????????????????????????????????????????
  ?
    ??????????????????????
         ? ¿En Tarea 10?      ?
         ??????????????????????
           SÍ   ?   NO
 ?  ?
    Ya completaste
         todas las tareas
           ?
         ?
    ??????????????????????????????????????????
      ?  Usuario Hace Clic en "LISTO"        ?
      ??????????????????????????????????????????
        ?
            ?
      ??????????????????????????????????????????
      ?  VALIDACIÓN: ¿Todas Calificadas?       ?
    ?             ?
      ?  Tareas Sin Calificación = ?     ?
      ??????????????????????????????????????????
         ????????????????????
     NO  ? Hay tareas sin    ?  SÍ
         ? calificar         ?
         ? ?
    MOSTRAR      CALCULAR PUNTUACIÓN
    ALERTA  ????????????????????
  ?              ? SUM(Califs)  ?
    "Faltan X      ? = T1+T2+...+T10  ?
     por      ? Máximo = 100     ?
     calificar"    ?            ?
        ? Ejemplo:    ?
         ? 8+9+7+10+8+6+... ?
   ? = 87      ?
             ????????????????????
          ?
     ?
              ???????????????????????????????
   ?  Enviar POST al Backend   ?
          ?  /api/evaluaciones/ ?
       ?  crear-evaluacion-practica   ?
 ?          ?
      ?  Body:    ?
     ?  {       ?
       ?    idUsuario: 1,           ?
  ?    nombreUsuario: "Juan",    ?
     ?    puntuacion: 87, ?
   ?    tareas: [...]  ?
 ?  }     ?
     ???????????????????????????????
    ?
                 ?
           ???????????????????????????????
              ?  BACKEND PROCESSING          ?
    ?                ?
         ?  1. Verificar usuario existe ?
    ?  2. Calcular Nota (SUM)  ?
   ?  3. Crear EVALUACION         ?
      ?  4. Guardar en BD         ?
      ?       ?
              ?  INSERT INTO EVALUACION      ?
              ?  (IdEvaluado, Nota,        ?
   ?   TipoEvaluacion, ...)       ?
  ?  VALUES (1, 87, 0, ...)      ?
           ???????????????????????????????
        ?
             ???????????????????
? ¿Exitoso?       ?
            ???????????????????
       NO  ?   ?  SÍ
                ?   ?
           ERROR  ? ÉXITO
    ?      ?
       ?    ?
     ?    MOSTRAR ALERTA
   MOSTRAR   VERDE ?
  ALERTA    "¡Evaluación práctica
 ROJA ?   guardada exitosamente!
      "Error al  Puntuación: 87/100"
  guardar:   ?
              {status}"?
   ?    Esperar 2 segundos
    ?    ?
        ?    ?
         ?    REDIRIGIR A
        ?    /EvaluacionPracticaLista
          ?
  ???????????????????
         ?
     ?
        FIN DEL PROCESO
```

---

## ?? Barra de Progreso Visual

```
Tarea 1 de 10:  [????????????????????????] 10%
Tarea 2 de 10:  [???????????????????????] 20%
Tarea 3 de 10:  [?????????????????????] 30%
...
Tarea 9 de 10:  [????????????????????] 90%
Tarea 10 de 10: [????????????????????] 100%
```

---

## ?? Estados de Botones

### Botón "SIGUIENTE"

```
DESHABILITADO (gris, sin clickear)
?? Cuando: Tarea actual sin calificación
?? Cuando: Ya es la última tarea (10/10)
?? Cuando: Se está guardando

HABILITADO (naranja, clickeable)
?? Cuando: Tarea actual tiene calificación (1-10)
?? Cuando: No es la última tarea
?? Cuando: No se está guardando
```

### Botón "LISTO"

```
DESHABILITADO (gris)
?? Cuando: Se está guardando
?? Cuando: Hay tareas sin calificar (en backend)

HABILITADO (naranja, clickeable)
?? Cuando: Todas las tareas están calificadas
?? Cuando: No se está guardando

Después de hacer clic:
DESHABILITADO + TEXTO CAMBIA
?? Muestra: "Guardando..." ??
?? Durantes: Espera respuesta backend
```

---

## ? Sistema de Estrellas

```
Sin calificar:
? ? ? ? ? ? ? ? ? ?
(gris, sin llenar)

Calificación 5:
? ? ? ? ? ? ? ? ? ?
(naranja, 5 llenas, 5 vacías)

Calificación 10:
? ? ? ? ? ? ? ? ? ?
(naranja, todas llenas)

HOVER (pasar el mouse):
Aumenta tamaño 10% y cambia color a naranja
```

---

## ?? Escala de Puntuación

```
RANGO DE PUNTOS CALIFICACIÓN      CONCEPTO
???????????????????????????????????????????????
0-50 puntos            ? REPROBADO       Insuficiente
51-79 puntos           ?? BIEN            Aprobado
80-100 puntos          ? EXCELENTE       Muy Bueno

EJEMPLOS:
5×10 = 50  ? Reprobado (límite mínimo)
7×10 = 70  ? Bien (promedio)
9×10 = 90  ? Excelente (superior)
10×10 = 100 ? Perfecto
```

---

## ??? Estructura de Datos en BD

```
TABLA: EVALUACION
?????????????????????????????????????????????????
? Columna         ? Valor ?
?????????????????????????????????????????????????
? IdEvaluacion    ? 1 ?
? IdEvaluado      ? (ID del usuario evaluado)   ?
? IdAdministrador ? (ID del que evalúa)         ?
? IdArea   ? (Área de evaluación)        ?
? FechaEvaluacion ? 2024-01-15            ?
? Nota? 87.00  ? ¡AQUÍ VA!       ?
? EstadoEvaluacion? Completada      ?
? TipoEvaluacion  ? 0 (FALSE = Práctica)        ?
?????????????????????????????????????????????????

Nota: 
- Máximo: 100 (10 tareas × 10 puntos)
- Mínimo: 0
- Tipo: DECIMAL(5, 2)
- Almacena: Suma directa de calificaciones
```

---

## ?? Validaciones Principales

```
? VALIDACIÓN 1: Tarea Actual
  ?? ¿Tiene calificación?
  ?? Resultado: Habilita/deshabilita "Siguiente"

? VALIDACIÓN 2: Es última tarea
  ?? ¿indiceActual >= Tareas.Count - 1?
  ?? Resultado: Deshabilita "Siguiente"

? VALIDACIÓN 3: Guardando
  ?? ¿cargandoSubmit == true?
  ?? Resultado: Deshabilita "Siguiente" y "Listo"

? VALIDACIÓN 4: Todas las tareas (CRÍTICA)
  ?? ¿Hay alguna tarea sin calificación?
  ?? SI ? Mostrar error y rechazar guardado
  ?? NO ? Proceder a guardar

? VALIDACIÓN 5: Usuario existe
  ?? Backend: Verifica en BD
  ?? SI no existe: Retorna 404
```

---

## ?? Paleta de Colores

```
?? Primario:      #f58220 (Naranja) - Botones activos, estrellas
?? Fondo:         #ffffff (Blanco) - Fondos de tarjetas
?? Texto:      #1f2937 (Gris oscuro) - Títulos
?? Texto claro: #6b7280 (Gris) - Descripciones
?? Borde:         #e5e7eb (Gris claro) - Bordes
?? Éxito:         #d1f4d1 (Verde claro) - Alertas positivas
?? Error:         #f8d7da (Rojo claro) - Alertas negativas
?? Info:          #e7f3ff (Azul claro) - Información
```

---

## ?? Responsive Breakpoints

```
DESKTOP (>768px):
?? Estrellas: 50px × 50px
?? Botones: Inline (lado a lado)
?? Gap: 20px
?? Padding: 40px

TABLET (?768px):
?? Estrellas: 40px × 40px
?? Botones: Inline
?? Gap: 12px
?? Padding: 20px

MÓVIL (<640px):
?? Estrellas: 40px × 40px
?? Botones: Verticales (stacked)
?? Gap: 12px
?? Padding: 20px
?? Width: 100%
```

---

## ?? Resumen de Cambios

```
ANTES:
?? Calculaba porcentaje de completadas
?? No validaba todas las tareas
?? Sin barra de progreso
?? Puntuación con rango incorrecto

AHORA:
?? ? Suma directa de calificaciones
?? ? Valida que TODAS estén calificadas
?? ? Muestra barra de progreso
?? ? Puntuación 0-100 correcta
?? ? Validación en botones
?? ? Mensaje con puntuación final
?? ? Compatible con ambas evaluaciones
```

---

## ?? Quick Reference

| Concepto | Valor |
|----------|-------|
| Total de tareas | 10 |
| Calificación por tarea | 1-10 |
| Puntuación máxima | 100 |
| Puntuación mínima | 0 |
| Aprobación mínima | 51 |
| Excelencia mínima | 80 |
| Tabla BD | EVALUACION |
| Campo nota BD | Nota (DECIMAL 5,2) |
| Tipo evaluación BD | TipoEvaluacion (0=Práctica) |
| Validación crítica | Todas las tareas calificadas |
